# 委托构造函数

委托构造函数允许在同一个类中一个构造函数可以调用另外一个构造函数，从而可以在初始化时简化变量的初始化：

```
class Test
{
public:
	int max_;
	int min_;
	int middle_;

	Test(int max) {
		max_ = max > 0 ? max : 10;
	}

	Test(int max,int min) : Test(max){
		min_ = min > 0 && min < max ? min : 1;
	}

	Test(int max, int min, int middle) :Test(max, min) {
		middle_ = middle < max&& middle > min ? middle : 5;
	}
};
```

使用委托构造时需要注意不能将依赖关系形成一个环，否则运行期会抛出异常。

使用了委托构造函数以后就不能用类成员初始化列表：

```
class Test
{
public:
	Test() {}

	Test(std::string str) : string_(str){}

	Test(std::string str,double db) : Test(str),double_(db) {} //@ 错误，不能使用类成员初始化

	//@ 使用了委托构造只能给类成员赋值
	Test(std::string str, double db) : Test(str) { double_ = db; }

public:
	double double_{ 1.0 };
	std::string string_;
};
```



